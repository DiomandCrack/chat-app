{"version":3,"sources":["../src/app-router.js"],"names":["moment","require","START_TIME","Date","AppRouter","app","setupRouter","bind","console","log","get","req","res","next","json","started","fromNow","post","body","models","user","create","then","status","catch","err","error","module","exports"],"mappings":";;;;;;AAAA,IAAMA,SAASC,QAAQ,QAAR,CAAf;AACA,IAAMC,aAAa,IAAIC,IAAJ,EAAnB;;IACMC,S;AACF,uBAAYC,GAAZ,EAAiB;AAAA;;AACb,aAAKA,GAAL,GAAWA,GAAX;AACA,aAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,aAAKD,WAAL;AACH;;;;sCACa;AACVE,oBAAQC,GAAR,CAAY,kBAAZ;AACA;;;;AAIA,gBAAMJ,MAAM,KAAKA,GAAjB;AACAA,gBAAIK,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC7B,uBAAOD,IAAIE,IAAJ,CAAS;AACZC,6BAASf,OAAOE,UAAP,EAAmBc,OAAnB;AADG,iBAAT,CAAP;AAGH,aAJD;AAKA;;;;AAIAX,gBAAIY,IAAJ,CAAS,YAAT,EAAuB,UAACN,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACvC,oBAAMK,OAAOP,IAAIO,IAAjB;AACAb,oBAAIc,MAAJ,CAAWC,IAAX,CAAgBC,MAAhB,CAAuBH,IAAvB,EAA6BI,IAA7B,CAAkC,UAACF,IAAD,EAAU;AACxC,2BAAOR,IAAIW,MAAJ,CAAW,GAAX,EAAgBT,IAAhB,CAAqBM,IAArB,CAAP;AACH,iBAFD,EAEGI,KAFH,CAES,UAACC,GAAD,EAAS;AACd,2BAAOb,IAAIW,MAAJ,CAAW,GAAX,EAAgBT,IAAhB,CAAqB,EAAEY,OAAOD,GAAT,EAArB,CAAP;AACH,iBAJD;AAKH,aAPD;AAQH;;;;;;AAGLE,OAAOC,OAAP,GAAiBxB,SAAjB","file":"app-router.js","sourcesContent":["const moment = require('moment');\r\nconst START_TIME = new Date();\r\nclass AppRouter {\r\n    constructor(app) {\r\n        this.app = app;\r\n        this.setupRouter = this.setupRouter.bind(this)\r\n        this.setupRouter();\r\n    }\r\n    setupRouter() {\r\n        console.log('App Router works');\r\n        /*\r\n        @route:/\r\n        @method: get\r\n        */\r\n        const app = this.app;\r\n        app.get('/', (req, res, next) => {\r\n            return res.json({\r\n                started: moment(START_TIME).fromNow(),\r\n            })\r\n        });\r\n        /*\r\n        @route:/api/user\r\n        @method:post \r\n        */\r\n        app.post('/api/users', (req, res, next) => {\r\n            const body = req.body;\r\n            app.models.user.create(body).then((user) => {\r\n                return res.status(200).json(user)\r\n            }).catch((err) => {\r\n                return res.status(503).json({ error: err })\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nmodule.exports = AppRouter"]}